ğŸ“‹ CHECKLIST DE VALIDAÃ‡ÃƒO APÃ“S CORREÃ‡Ã•ES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PROJETO: Encontre o Campo
DATA: 02/02/2026
VERSÃƒO: 1.0

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”§ FASE 1: VERIFICAÃ‡ÃƒO DE CORREÃ‡Ã•ES (Antes de testar)

[ ] 1. Verificar se os 5 arquivos foram corrigidos
    Arquivos a verificar:
    â˜ src/vendedor/processar_decisao.php (linha 6)
    â˜ src/vendedor/webhook_stripe.php (linha 4)
    â˜ src/vendedor/processar_assinatura.php (linha 8)
    â˜ src/vendedor/desfazer_contraproposta.php (linha 6)
    â˜ src/vendedor/editar_contraproposta.php (linha 6)
    
    Cada linha deve conter:
    require_once __DIR__ . '/../../includes/send_notification.php';
    
[ ] 2. Confirmar que send_notification.php foi atualizado
    Arquivo: includes/send_notification.php
    Deve conter:
    â˜ $mail->Port = (int)$_ENV['SMTP_PORT'];
    â˜ $mail->CharSet = PHPMailer::CHARSET_UTF8;
    â˜ $mail->SMTPDebug = SMTP::DEBUG_OFF;
    â˜ $mail->Debugoutput = 'error_log';
    â˜ $mail->Timeout = 10;

[ ] 3. Verificar arquivo .env
    â˜ SMTP_HOST=smtp.hostinger.com
    â˜ SMTP_PORT=587
    â˜ SMTP_USERNAME=contato@encontreocampo.com.br
    â˜ SMTP_ENCRYPTION=tls
    â˜ SMTP_PASSWORD=******* (preenchido)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ§ª FASE 2: TESTES AUTOMATIZADOS

[ ] 1. Teste de DiagnÃ³stico Visual
    1. Abra no navegador:
       http://localhost/EncontreOCampo/includes/teste_diagnostico_email.php
    
    2. Verifique seÃ§Ã£o "VerificaÃ§Ãµes do Sistema":
       â˜ PHP Version ..................... âœ“ Verde
       â˜ OpenSSL ......................... âœ“ Verde
       â˜ mail() nativa ................... âœ“ Verde
       â˜ Composer Autoload ............... âœ“ Verde
       â˜ PHPMailer Files ................. âœ“ Verde
       â˜ .env File ....................... âœ“ Verde
    
    3. Verifique seÃ§Ã£o "ConfiguraÃ§Ãµes SMTP Carregadas":
       â˜ Host: smtp.hostinger.com ........ âœ“ Correto
       â˜ Port: 587 ....................... âœ“ Correto
       â˜ Username: contato@encontreocampo.com.br âœ“ Correto
       â˜ Encryption: TLS ................ âœ“ Correto
       â˜ Password: [definida] ........... âœ“ Correto

[ ] 2. Teste de Email
    1. SeÃ§Ã£o "Teste de Envio de Email":
       â˜ Insira um email real (seu email ou teste)
       â˜ Insira um nome qualquer
       â˜ Clique em "ğŸš€ Enviar Email de Teste"
    
    2. Resultado esperado:
       â˜ Mensagem de sucesso aparece
       â˜ Email chega na caixa de entrada
       â˜ Aguarde atÃ© 5 minutos
       â˜ Verifique tambÃ©m SPAM

[ ] 3. Teste de Conectividade SMTP
    1. Acesse:
       http://localhost/EncontreOCampo/includes/teste_conectividade_rede.php
    
    2. Resultados esperados:
       â˜ ResoluÃ§Ã£o de DNS ............... âœ… Verde
       â˜ Teste de ConexÃ£o na Porta ..... âœ… Verde
       â˜ FunÃ§Ãµes PHP NecessÃ¡rias ....... âœ… Verde
       â˜ ConfiguraÃ§Ãµes de Rede ......... âœ… Verde

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“§ FASE 3: TESTES FUNCIONAIS (Dentro do Sistema)

[ ] 1. Teste: Comprador Edita Proposta
    Caminho: Comprador â†’ Minhas Propostas â†’ Editar
    1. Comprador edita uma proposta
    2. Sistema envia email para o vendedor
    
    Validar:
    â˜ Email chega no vendedor
    â˜ Assunto correto
    â˜ ConteÃºdo com dados corretos

[ ] 2. Teste: Vendedor Responde Proposta
    Caminho: Vendedor â†’ Propostas â†’ Responder
    1. Vendedor aceita/recusa uma proposta
    2. Sistema envia email para o comprador
    
    Validar:
    â˜ Email chega no comprador
    â˜ Status correto (aceita/recusa)
    â˜ Dados da proposta presentes

[ ] 3. Teste: Transportador Envia Proposta de Frete
    Caminho: Transportador â†’ Dashboard â†’ Enviar Proposta
    1. Transportador envia proposta de frete
    2. Emails enviam para comprador e vendedor
    
    Validar:
    â˜ Email chega no comprador
    â˜ Email chega no vendedor
    â˜ Valor do frete correto
    â˜ Dados do transportador presentes

[ ] 4. Teste: Vendedor Edita Contraproposta
    Caminho: Vendedor â†’ Contraproposta â†’ Editar
    1. Vendedor edita uma contraproposta
    2. Email envia para o comprador
    
    Validar:
    â˜ Email chega no comprador
    â˜ Novo preÃ§o correto
    â˜ Nova quantidade correta

[ ] 5. Teste: Vendedor Desfaz Contraproposta
    Caminho: Vendedor â†’ Contraproposta â†’ Desfazer
    1. Vendedor desfaz uma contraproposta
    2. Emails enviam para ambos
    
    Validar:
    â˜ Email chega no comprador
    â˜ Email chega no vendedor
    â˜ Mensagem clara sobre cancelamento

[ ] 6. Teste: Chat - Novo UsuÃ¡rio
    Caminho: Chat â†’ Enviar Mensagem
    1. Envie mensagem para outro usuÃ¡rio
    2. Email notifica o outro usuÃ¡rio
    
    Validar:
    â˜ Email chega no outro usuÃ¡rio
    â˜ Link para chat correto

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš ï¸  FASE 4: VERIFICAÃ‡ÃƒO DE LOGS

Se algum teste FALHAR:

[ ] 1. Acesse o arquivo de log:
    C:\xampp\apache\logs\error.log

[ ] 2. Procure por mensagens de erro:
    â˜ SMTP Connection refused
    â˜ Authentication failed
    â˜ Timeout
    â˜ SSL/TLS error
    â˜ Email sent successfully

[ ] 3. Analise o erro:
    Procure por linhas contendo:
    â˜ "send_notification.php"
    â˜ "SMTP"
    â˜ "PHPMailer"
    â˜ "Email"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ› ï¸  FASE 5: TROUBLESHOOTING

Se os emails ainda nÃ£o chegarem:

[ ] 1. Erro: "Class not found: PHPMailer"
    SoluÃ§Ã£o: Verify path in arquivo (linha de require_once)
    Correto: /../../includes/send_notification.php

[ ] 2. Erro: "Connection refused"
    SoluÃ§Ã£o: Firewall bloqueando porta 587
    Tente: Teste de conectividade (teste_conectividade_rede.php)
    Alternativa: Tentar porta 465

[ ] 3. Erro: "Authentication failed"
    SoluÃ§Ã£o: Password incorreta
    Verifique: .env file e credenciais Hostinger

[ ] 4. Erro: "Timeout"
    SoluÃ§Ã£o: Servidor SMTP offline ou lento
    Tente: Aguarde alguns minutos
    Alternativa: Teste novamente

[ ] 5. Sem erro, mas email nÃ£o chega
    SoluÃ§Ã£o: Email em SPAM
    Verifique: Pasta de SPAM/Lixo/Quarentena
    Alternativa: Aguarde 5-10 minutos

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… FASE 6: VALIDAÃ‡ÃƒO FINAL

Antes de considerar "PRONTO", marque TODOS:

[ ] Fase 1: CorreÃ§Ãµes aplicadas ........................ âœ“
[ ] Fase 2: Testes automatizados passaram ............ âœ“
[ ] Fase 3: Testes funcionais passaram .............. âœ“
[ ] Fase 4: Logs verificados (sem erros crÃ­ticos) ... âœ“
[ ] Fase 5: Troubleshooting (se necessÃ¡rio) ........ âœ“
[ ] Todos os 5 arquivos corrigidos verificados ....... âœ“
[ ] Emails chegando em pelo menos 1 teste ........... âœ“

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š RELATÃ“RIO FINAL

Data do Teste: _____ / _____ / _______

Testes Passados: _____
Testes Falhados: _____
Testes Pulados: _____

Status Geral:
â˜ âœ… PRONTO - Todos os testes passaram
â˜ âš ï¸  COM RESSALVAS - Alguns testes falharam mas conhecemos o motivo
â˜ âŒ NÃƒO PRONTO - Testes falharam e nÃ£o sabemos o motivo

ObservaÃ§Ãµes:
_________________________________________________________________
_________________________________________________________________
_________________________________________________________________

ResponsÃ¡vel: ______________________
Assinatura: ________________________
Data: _____ / _____ / _______

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ SUPORTE

Se apÃ³s todos esses testes ainda houver problemas:

1. Consulte: AUDITORIA_NOTIFICACOES_EMAILS.md
2. Consulte: SOLUCAO_EMAILS.md
3. Consulte: RELATORIO_CORRECAO_EMAILS.md

Verifique logs em:
  C:\xampp\apache\logs\error.log

Contate Suporte Hostinger com:
  â€¢ Screenshot dos erros
  â€¢ ConteÃºdo do error.log
  â€¢ Resultado de teste_conectividade_rede.php

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

VersÃ£o: 1.0
Data: 02/02/2026
Status: âœ… PRONTO PARA TESTE

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
